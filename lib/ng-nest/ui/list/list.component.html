<div class="x-list">
  <ng-container *ngIf="header">
    <div class="x-list-header" *xOutlet="header">{{ header }}</div>
  </ng-container>
  <ng-container *ngIf="selectAll && multiple === 0">
    <div class="x-list-select-all">
      <x-list-option
        [size]="size"
        [label]="getSelectAllText"
        [checked]="true"
        [selected]="isSelectAll"
        (click)="onSelectAllNodes()"
      ></x-list-option>
    </div>
  </ng-container>
  <div class="x-list-content" cdkDropList (cdkDropListDropped)="dropCdk($event)" [cdkDropListDisabled]="!drag" [hidden]="isEmpty">
    <x-list-option
      cdkDrag
      *ngFor="let node of nodes; trackBy: trackByNode"
      [node]="node"
      [checked]="checked"
      [nodeTpl]="nodeTpl"
      [selected]="node.selected"
      [disabled]="node.disabled"
      [(active)]="node.active"
      [icon]="node.icon"
      [label]="node.label"
      [leaf]="node.leaf"
      [size]="size"
      (click)="onNodeClick($event, node)"
      (mouseenter)="onMouseenter($event, node)"
      (mouseleave)="onMouseleave($event, node)"
    ></x-list-option>
  </div>
  <ng-container *ngIf="loadMore && !isEmpty">
    <div class="x-list-load-more">
      <x-list-option [size]="size" [nodeTpl]="loadMoreTpl" (click)="onLoadMore()"></x-list-option>
    </div>
    <ng-template #loadMoreTpl>
      <x-icon *ngIf="icon && iconSpin" [type]="icon" [spin]="iconSpin"></x-icon>
      {{ icon && iconSpin ? getLoadingMoreText : getLoadMoreText }}
    </ng-template>
  </ng-container>
  <x-empty *ngIf="isEmpty"></x-empty>
  <ng-container *ngIf="footer">
    <div class="x-list-footer" *xOutlet="footer">{{ footer }}</div>
  </ng-container>
</div>
