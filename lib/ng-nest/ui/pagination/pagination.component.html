@if (simple()) {
  <div class="x-pagination-simple">
    @if (showJumpTooltipText()) {
      <x-input-group compact>
        <ng-container *xOutlet="previousTpl"></ng-container>
        <x-input
          x-tooltip
          [content]="jumpTooltip()"
          
          [style.width]="simpleIndexWidth()"
          [variant]="showBackground() ? 'filled' : 'outlined'"
          [(ngModel)]="jumpPage"
          (xBlur)="onJumpBlur($event, true)"
          (xKeydown)="onJumpKeydown($event, true)"
          [type]="'number'"
          [min]="1"
          [max]="lastIndex()"
        ></x-input>
        <ng-container *xOutlet="nextTpl"></ng-container>
      </x-input-group>
    } @else {
      <x-input-group compact>
        <ng-container *xOutlet="previousTpl"></ng-container>
        <x-input
          [before]="previousTpl"
          [after]="nextTpl"
          [style.width]="simpleIndexWidth()"
          [variant]="showBackground() ? 'filled' : 'outlined'"
          [(ngModel)]="jumpPage"
          (xBlur)="onJumpBlur($event, true)"
          (xKeydown)="onJumpKeydown($event, true)"
          [type]="'number'"
          [min]="1"
          [max]="lastIndex()"
        ></x-input
        ><ng-container *xOutlet="nextTpl"></ng-container>
      </x-input-group>
    }
    <span>/</span>
    <span>{{ lastIndex() }}</span>
  </div>
} @else {
  <x-buttons class="x-pagination-group" [space]="space()" [hiddenBorder]="!showBackground()" [boxShadow]="false">
    @if (showEllipsis()) {
      <x-button
        class="x-pagination-first"
        [icon]="'fto-chevrons-left'"
        [title]="'pagination.first' | xI18n"
        [disabled]="disabled() || firstActivated()"
        (click)="jump(1)"
        plain
        flat
      ></x-button>
    }
    <ng-container *xOutlet="previousTpl"></ng-container>
    @for (item of indexes(); track item) {
      <x-button
        class="x-pagination-link"
        [disabled]="disabled()"
        plain
        flat
        [activated]="getActivated(item)"
        (click)="jump(item)"
        >{{ item }}</x-button
      >
    }
    <ng-container *xOutlet="nextTpl"></ng-container>
    @if (showEllipsis() && !simple()) {
      <x-button
        class="x-pagination-last"
        [icon]="'fto-chevrons-right'"
        [title]="'pagination.last' | xI18n"
        [disabled]="disabled() || lastActivated()"
        (click)="jump(lastIndex())"
        plain
        flat
      ></x-button>
    }
  </x-buttons>
}
@if (showSize() && !showInputSize()) {
  <x-select
    [style.width]="sizeWidth()"
    class="x-pagination-size"
    [data]="sizeDataSignal()"
    [clearable]="false"
    [disabled]="disabled()"
    [nodeTpl]="nodeTpl"
    [variant]="showBackground() ? 'filled' : 'outlined'"
    [(ngModel)]="size"
    (ngModelChange)="sizeChanged()"
  ></x-select>
}
@if (showInputSize()) {
  <div class="x-pagination-input-size">
    @if (showInputSizeTooltipText()) {
      <x-input
        x-tooltip
        [content]="inputSizeTooltip()"
        [style.width]="inputSizeWidth()"
        [disabled]="disabled()"
        [variant]="showBackground() ? 'filled' : 'outlined'"
        [(ngModel)]="inputSize"
        (xBlur)="onInputSizeBlur($event)"
        (xKeydown)="onInputSizeKeydown($event)"
      ></x-input>
    } @else {
      <x-input
        [style.width]="inputSizeWidth()"
        [disabled]="disabled()"
        [variant]="showBackground() ? 'filled' : 'outlined'"
        [(ngModel)]="inputSize"
        (xBlur)="onInputSizeBlur($event)"
        (xKeydown)="onInputSizeKeydown($event)"
      ></x-input>
    }
    <span> {{ 'pagination.sizePage' | xI18n }} </span>
  </div>
}
@if (showJump() && !simple()) {
  <div class="x-pagination-jump">
    <span>{{ 'pagination.jump' | xI18n }}</span>
    @if (showJumpTooltipText()) {
      <x-input
        x-tooltip
        [content]="jumpTooltip()"
        [variant]="showBackground() ? 'filled' : 'outlined'"
        [style.width]="jumpWidth()"
        [(ngModel)]="jumpPage"
        (xBlur)="onJumpBlur($event)"
        (xKeydown)="onJumpKeydown($event)"
        [type]="'number'"
        [min]="1"
        [max]="lastIndex()"
      ></x-input>
    } @else {
      <x-input
        [variant]="showBackground() ? 'filled' : 'outlined'"
        [style.width]="jumpWidth()"
        [(ngModel)]="jumpPage"
        (xBlur)="onJumpBlur($event)"
        (xKeydown)="onJumpKeydown($event)"
        [type]="'number'"
        [min]="1"
        [max]="lastIndex()"
      ></x-input>
    }
  </div>
}
@if (showTotal()) {
  <x-button [disabled]="disabled()" plain flat class="x-pagination-total">
    <ng-container *xOutlet="totalTpl(); context: { $total: total() }">
      {{ 'pagination.total' | xI18n }} {{ total() }} {{ 'pagination.item' | xI18n }}
    </ng-container>
  </x-button>
}
<ng-template #previousTpl>
  <x-button
    [icon]="'fto-chevron-left'"
    [title]="'pagination.previous' | xI18n"
    [disabled]="disabled() || leftDisabled()"
    (click)="jump(-1, true)"
    plain
    flat
  ></x-button>
</ng-template>

<ng-template #nextTpl>
  <x-button
    [icon]="'fto-chevron-right'"
    [title]="'pagination.next' | xI18n"
    [disabled]="disabled() || rightDisabled()"
    (click)="jump(1, true)"
    plain
    flat
  ></x-button>
</ng-template>

<ng-template #nodeTpl let-node="$node">
  @if (node) {
    {{ node?.label }} {{ 'pagination.sizePage' | xI18n }}
  }
</ng-template>
