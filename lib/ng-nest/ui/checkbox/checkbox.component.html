<div #checkbox class="x-checkbox" [class.x-disabled]="disabled">
  <ng-container *ngIf="button || icon; else default">
    <x-buttons>
      <x-button
        *ngFor="let item of nodes"
        [icon]="item.icon"
        [title]="item.title"
        [size]="size"
        [activated]="value && value?.indexOf(item.id) >= 0"
        [disabled]="disabled || item.disabled"
        (click)="checkboxClick($event, item)"
        >{{ item.label }}</x-button
      >
    </x-buttons>
  </ng-container>
</div>

<ng-template #default>
  <div
    class="x-checkbox-item"
    *ngFor="let item of nodes"
    [class.x-checked]="value && value?.indexOf(item.id) >= 0"
    [class.x-disabled]="item.disabled"
    [class.x-indeterminate]="indeterminate"
    (click)="checkboxClick($event, item)"
  >
    <span class="x-checkbox-box"></span>
    <span class="x-checkbox-label">
      <ng-container *xOutlet="item.label; context: { $node: item }">{{ item.label }}</ng-container>
    </span>
  </div>
</ng-template>
