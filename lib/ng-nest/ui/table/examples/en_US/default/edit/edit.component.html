<x-button [style.marginBottom.rem]="1" (click)="add()" icon="fto-plus" type="primary">Add</x-button>
<x-table
  [columns]="columns"
  [data]="data"
  loading
  [showPagination]="false"
  [allowSelectRow]="false"
  [bodyColumnTpl]="{ actions: actionsTpl }"
  [bodyTdTpl]="bodyTdTpl"
>
</x-table>

<ng-template #actionsTpl let-column="$column" let-row="$row">
  <div>
    <x-link type="primary" (click)="del(row)">Delete</x-link>
  </div>
</ng-template>

<ng-template #bodyTdTpl let-column="$column" let-row="$row">
  <ng-container [ngSwitch]="column.id">
    <ng-container *ngSwitchCase="'name'">
      <x-input [style.width.%]="100" [(ngModel)]="row.name"></x-input>
    </ng-container>
    <ng-container *ngSwitchCase="'position'">
      <x-select [style.width.%]="100" [(ngModel)]="row.position" [data]="positionOptions"></x-select>
    </ng-container>
    <ng-container *ngSwitchCase="'status'">
      <x-switch [(ngModel)]="row.status"></x-switch>
    </ng-container>
    <ng-container *ngSwitchDefault>{{ row[column.id] }}</ng-container>
  </ng-container>
</ng-template>
