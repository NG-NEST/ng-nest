<x-table
  #tableCom
  [(size)]="size"
  [columns]="columns"
  [data]="data"
  [query]="query"
  [rowHeight]="0"
  [scroll]="{ x: 1400, y: 600 }"
  bordered
  virtualScroll
  loading
  [headSearchTpl]="headSearchTpl"
>
</x-table>

<ng-template #headSearchTpl let-column="$column">
  @switch (column.id) {
    @case ('name') {
      <x-input [style.width.%]="100" [(ngModel)]="name" (ngModelChange)="change($event, 'name')"></x-input>
    }
    @case ('phone') {
      <x-input [style.width.%]="100" [(ngModel)]="phone" (ngModelChange)="change($event, 'phone')"></x-input>
    }
    @case ('position') {
      <x-select
        [style.width.%]="100"
        [(ngModel)]="position"
        (ngModelChange)="change($event, 'position')"
        [data]="service.positions"
      ></x-select>
    }
    @case ('organization') {
      <x-select
        [style.width.%]="100"
        [(ngModel)]="organization"
        (ngModelChange)="change($event, 'organization')"
        [data]="service.organizations"
      ></x-select>
    }
    @default {}
  }
</ng-template>
