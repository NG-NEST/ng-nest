@if (routerLink() && !leaf()) {
  <a [routerLink]="routerLink()">
    <ng-container *ngTemplateOutlet="menuTpl"></ng-container>
  </a>
} @else {
  <ng-container *ngTemplateOutlet="menuTpl"></ng-container>
}

<ng-template #menuTpl>
  @if (icon()) {
    <x-icon class="x-menu-icon" [type]="icon()"></x-icon>
  }
  @if (nodeTpl()) {
    <ng-container *ngTemplateOutlet="nodeTpl()!; context: { $node: node()! }"></ng-container>
  } @else if (label()) {
    <span class="x-menu-text">{{ label() }} </span>
  }
  @if (label()) {}
  @if (leaf()) {
    <x-icon class="x-menu-arrow" [class.is-open]="open()" type="fto-chevron-down"></x-icon>
  }
</ng-template>
