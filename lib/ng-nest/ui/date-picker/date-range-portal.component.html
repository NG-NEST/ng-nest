<div class="x-date-range-portal {{ type }}" [ngSwitch]="type">
  <ng-container *ngSwitchCase="'date'">
    <div class="x-date-range-portal-header">
      <ng-container *ngTemplateOutlet="startDateHeaderTpl"></ng-container>
      <ng-container *ngTemplateOutlet="endDateHeaderTpl"></ng-container>
    </div>
    <div class="x-date-range-portal-body">
      <x-picker-date
        class="x-date-range-portal-start"
        [display]="startDisplay"
        [model]="startModel"
        (modelChange)="dateChange($event)"
        rangePicker
      ></x-picker-date>
      <x-picker-date
        class="x-date-range-portal-end"
        [display]="endDisplay"
        [model]="endModel"
        (modelChange)="dateChange($event)"
        rangePicker
      ></x-picker-date>
    </div>
  </ng-container>
</div>

<ng-template #startDateHeaderTpl>
  <x-button icon="fto-chevrons-left" size="small" onlyIcon (click)="nextYear(-1)"></x-button>
  <x-button icon="fto-chevron-left" size="small" onlyIcon (click)="nextMonth(-1)"></x-button>
  <div class="x-date-range-portal-year-month">
    <x-button type="text" size="small" (click)="typeChange('year')">{{ startDisplay | date: 'yyyy' }}{{ locale.year }}</x-button>
    <x-button type="text" size="small" (click)="typeChange('month')">{{ getLocaleMonth(startDisplay) }}</x-button>
  </div>
  <x-button icon="fto-chevron-right" size="small" onlyIcon style="visibility: hidden"></x-button>
  <x-button icon="fto-chevrons-right" size="small" onlyIcon style="visibility: hidden"></x-button>
</ng-template>

<ng-template #endDateHeaderTpl>
  <x-button icon="fto-chevrons-left" size="small" onlyIcon (click)="nextYear(-1)" style="visibility: hidden"></x-button>
  <x-button icon="fto-chevron-left" size="small" onlyIcon (click)="nextMonth(-1)" style="visibility: hidden"></x-button>
  <div class="x-date-range-portal-year-month">
    <x-button type="text" size="small" (click)="typeChange('year')">{{ endDisplay | date: 'yyyy' }}{{ locale.year }}</x-button>
    <x-button type="text" size="small" (click)="typeChange('month')">{{ getLocaleMonth(endDisplay) }}</x-button>
  </div>
  <x-button icon="fto-chevron-right" size="small" onlyIcon (click)="nextMonth(1)"></x-button>
  <x-button icon="fto-chevrons-right" size="small" onlyIcon (click)="nextYear(1)"></x-button>
</ng-template>
