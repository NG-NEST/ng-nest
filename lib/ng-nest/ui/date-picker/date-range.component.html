<div
  #dateRange
  class="x-date-range"
  [ngClass]="classMap()"
  [class.x-flex]="justify() || align() || direction()"
  [class.x-checked]="value()"
  [class.x-disabled]="disabledComputed()"
  [class.x-required]="requiredIsEmpty()"
  [class.x-invalid]="invalid()"
  [class.x-date-range-bordered]="bordered()"
  [class.x-date-range-filled]="variant() === 'filled'"
  [class.x-date-range-borderless]="variant() === 'borderless' || (variant() === 'outlined' && !bordered())"
  [class.x-date-range-underlined]="variant() === 'underlined'"
  [class.x-date-range-active]="active()"
  [class.x-date-range-active-start]="activeType() === 'start'"
  [class.x-date-range-active-end]="activeType() === 'end'"
>
  @if (label()) {
    <label [class.x-date-range-label-required]="required()" [style.width]="labelWidth()" [ngClass]="labelMapSignal()">{{
      label()
    }}</label>
  }
  <div class="x-date-range-row">
    <x-input-group
      #inputGroup
      class="x-date-range-group"
      (mouseenter)="menter()"
      (mouseleave)="mleave()"
      (click)="showPortal($event)"
    >
      <x-input
        #inputStartCom
        class="x-date-range-input x-date-range-input-start"
        type="text"
        bordered="false"
        [before]="before()"
        [size]="size()"
        [disabled]="disabledComputed()"
        [placeholder]="startPlaceholder()!"
        [pointer]="pointer()"
        [required]="required()"
        [readonly]="readonly()"
        (xFocus)="onFocus('start')"
        (xClick)="showPortal($event, 'start')"
        [(ngModel)]="startDisplay"
        icon="fto-arrow-right"
      ></x-input>
      <x-input
        #inputEndCom
        class="x-date-range-input x-date-range-input-end"
        type="text"
        bordered="false"
        [size]="size()"
        [disabled]="disabledComputed()"
        [placeholder]="endPlaceholder()!"
        [pointer]="pointer()"
        [required]="required()"
        [readonly]="readonly()"
        (xFocus)="onFocus('end')"
        (xClick)="showPortal($event, 'end')"
        [(ngModel)]="endDisplay"
        [icon]="icon()"
        (clearEmit)="clearEmit()"
        [clearable]="showClearable()"
        [after]="after()"
      ></x-input>
      @if (active()) {
        <div class="x-date-range-active-bar"></div>
      }
    </x-input-group>
    @if (invalid()) {
      <span class="x-date-range-error-message">{{ invalidMessage() }}</span>
    }
    @if (requiredIsEmpty() || invalid()) {
      <div class="x-border-error x-top-left"></div>
      <div class="x-border-error x-top-right"></div>
      <div class="x-border-error x-bottom-left"></div>
      <div class="x-border-error x-bottom-right"></div>
    }
  </div>
</div>
