<div
  #badge
  class="x-badge"
  [ngClass]="classMap()"
  [class.x-badge-dot]="dot()"
  [class.x-badge-standalone]="standalone()"
>
  <ng-content></ng-content>
  @if (valueNumber() > 0 || dot()) {
    @if (standalone()) {
      <sup
        animate.enter="x-badge-standalone-enter"
        animate.leave="x-badge-standalone-leave"
        [style.marginRight]="offsetLeft()"
        [style.marginTop]="offsetTop()"
      >
        <ng-container *ngTemplateOutlet="dotTpl"></ng-container>
      </sup>
    } @else {
      <sup
        animate.enter="x-badge-enter"
        animate.leave="x-badge-leave"
        [style.marginRight]="offsetLeft()"
        [style.marginTop]="offsetTop()"
      >
        <ng-container *ngTemplateOutlet="dotTpl"></ng-container>
      </sup>
    }
  }
</div>

<ng-template #dotTpl>
  @if (!dot()) {
    @for (item of maxNums(); track item) {
      <span class="x-badge-scroll" [style.transform]="'translateY(-' + translateYNumbers()[$index] + '%)'">
        @for (j of range(); track j) {
          <p>{{ j }}</p>
        }
      </span>
    }
  }
</ng-template>
