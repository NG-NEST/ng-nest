<div #badge class="x-badge" [ngClass]="classMap" [class.x-badge-dot]="dot" [class.x-badge-standalone]="standalone">
  <ng-content></ng-content>
  @if (valueNumber > 0 || dot) {
    @if (standalone) {
      <sup [@x-badge-standalone-animation] [style.marginRight]="getOffsetRight" [style.marginTop]="getOffsetTop">
        <ng-container *ngTemplateOutlet="dotTpl"></ng-container>
      </sup>
    } @else {
      <sup [@x-badge-animation] [style.marginRight]="getOffsetRight" [style.marginTop]="getOffsetTop">
        <ng-container *ngTemplateOutlet="dotTpl"></ng-container>
      </sup>
    }
  }
</div>

<ng-template #dotTpl>
  @if (!dot) {
    @for (item of maxNums; track item; let i = $index) {
      <span
        class="x-badge-scroll"
        [style.transform]="'translateY(-' + (displayNums[i] == '+' ? 10 : displayNums[i]) * 100 + '%)'"
      >
        @for (j of range; track j) {
          <p>{{ j }}</p>
        }
      </span>
    }
  }
</ng-template>
